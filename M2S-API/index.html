<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="jaumesegarra.github.io : " />

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>M2S API - Jaume Segarra</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <h1 id="project_title">M2S API</h1>
          <h2 id="project_tagline"></h2>

        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h3>
<a name="welcome-to-m2s-api" class="anchor" href="#welcome-to-m2s-api"><span class="octicon octicon-link"></span></a>Welcome to M2S API.</h3>

<p>This api allows you to create instant messaging applications without resorting to servers. It works in most environments as: php, android, iphone, java, etc ... but we will focus in javascript</p>

<h3>
<a name="login-user" class="anchor" href="#login-user"><span class="octicon octicon-link"></span></a>Login user</h3>
<p>Most importantly, log in, m2s requires the user to have the session open http://m2s.es/app so there will be times that we will have to log in</p>
<p>To do this, we must call to <code>http://m2s.es/app/api/connect/login.php</code> with the gets <code>user</code> and <code>passmd5</code>.</p>
The gets:
<ul>
	<li><code>user</code> is the user name</li>
	<li><code>passmd5</code> is the password of user in md5</li>
</ul>
<p>
Response:<br>
The response is in json and the status of the request is <code>message</code> if the request is accepted appear <code>data</code> with the user data. For example:</p>
<ul>
    <li>If you have the session in m2s.es opened: <code>{"mensaje":"e1"}</code></li>
	<li>If the gets aren't: <code>{"mensaje":"e2"}</code></li>
	<li>If the data aren't correct: <code>{"mensaje":"e3"}</code></li>
	<li>If the data are correct: <code>{"mensaje":"OK","data":{"id":"","email":"","genre":""}}</code></li>
</ul>
<p>In javascript could be:</p>
<pre><code>var usern = '' #Username of user
var pass = '' #Password of user in md5
$.ajax({
     type: "GET",
     jsonpCallback:'jpCallback',
     crossDomain: true,
     url: "http://m2s.es/app/api/connect/login.php",
     data: "user="+usern+"&passmd5="+pass,
     dataType: 'jsonp', #The petition need this for obtain the response
     success: function(result) {
        #When the petition has been processed.
        if(result.mensaje == 'OK'){
          #If the petition is correct
          id = result.data.id #Example of data of the user
        }
        [...] #More response
     }
})
</code></pre>
<h5>More coming...</h3>
<h3>
<a name="support-or-contact" class="anchor" href="#support-or-contact"><span class="octicon octicon-link"></span></a>Support or Contact</h3>
<p>Are you have any problem? Contact me at <a href="mailto:xumet12@icloud.com">xumet12@icloud.com</a></p>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p>M2S is an app created by <a href="http://twitter.com/xumet12">@xumet12</a> and your api is public but you must mention M2S in your apps</p>
      </footer>
    </div>
  </body>
</html>
